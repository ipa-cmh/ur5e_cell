<?xml version="1.0"?>
<root main_tree_to_execute = "MainTree" >
    <BehaviorTree ID="MainTree">
        <Sequence name="root_sequence">
            <SetPose
                positionx="0.0"
                positiony="0.60"
                positionz="0.5"
                roll="3.14"
                pitch="0.0"
                yaw="0.0"
                planning_frame="base_link"
                moving_link="tool_tip"
                robot_state="{start_pose}" />
            <SetPose
                positionx="-0.17"
                positiony="0.163"
                positionz="1.2"
                roll="-3.14"
                pitch="0.0"
                yaw="1.57"
                planning_frame="world"
                moving_link="tool_tip"
                robot_state="{pre_1_pose}" />
            <SetPose
                positionx="-0.17"
                positiony="0.163"
                positionz="1.067"
                roll="-3.14"
                pitch="0.0"
                yaw="1.57"
                planning_frame="world"
                moving_link="tool_tip"
                robot_state="{pick_1_pose}" />
            <SetPose
                positionx="-0.17"
                positiony="-0.103"
                positionz="1.2"
                roll="-3.14"
                pitch="0.0"
                yaw="1.57"
                planning_frame="world"
                moving_link="tool_tip"
                robot_state="{pre_2_pose}" />
            <SetPose
                positionx="-0.17"
                positiony="-0.103"
                positionz="1.067"
                roll="-3.14"
                pitch="0.0"
                yaw="1.57"
                planning_frame="world"
                moving_link="tool_tip"
                robot_state="{pick_2_pose}" />
            <PlanMotion
                goal_state="{start_pose}"
                planning_frame="world"
                moving_link="tool_tip"
                trajectory="{from_initial_pose_to_start_pose}" />
            <PlanMotion
                start_state="{start_pose}"
                goal_state="{pre_1_pose}"
                planning_frame="world"
                moving_link="tool_tip"
                trajectory="{from_start_pose_to_pre_1_pose}" />
            <PlanMotion
                start_state="{pre_1_pose}"
                goal_state="{pick_1_pose}"
                planning_frame="world"
                moving_link="tool_tip"
                trajectory="{from_pre_1_pose_to_pick_1_pose}" />
            <PlanMotion
                start_state="{pick_1_pose}"
                goal_state="{pre_1_pose}"
                planning_frame="world"
                moving_link="tool_tip"
                trajectory="{from_pick_1_pose_to_pre_1_pose}" />
            <PlanMotion
                start_state="{pre_1_pose}"
                goal_state="{pre_2_pose}"
                planning_frame="world"
                moving_link="tool_tip"
                trajectory="{from_pre_1_pose_to_pre_2_pose}" />
            <PlanMotion
                start_state="{pre_2_pose}"
                goal_state="{pick_2_pose}"
                planning_frame="world"
                moving_link="tool_tip"
                trajectory="{from_pre_2_pose_to_pick_2_pose}" />
            <PlanMotion
                start_state="{pick_2_pose}"
                goal_state="{pre_2_pose}"
                planning_frame="world"
                moving_link="tool_tip"
                trajectory="{from_pick_2_pose_to_pre_2_pose}" />
            <PlanMotion
                start_state="{pre_2_pose}"
                goal_state="{pre_1_pose}"
                planning_frame="world"
                moving_link="tool_tip"
                trajectory="{from_pre_2_pose_to_pre_1_pose}" />
            <ExecuteMotion trajectory="{from_initial_pose_to_start_pose}" />
            <ExecuteMotion trajectory="{from_start_pose_to_pre_1_pose}" />
            <GripperAction action="open" pin_0="0" pin_1="1" fake="false"/>
            <Repeat num_cycles="100">
                <Sequence name="execute_sequence">
                    <ExecuteMotion trajectory="{from_pre_1_pose_to_pick_1_pose}" />
                    <GripperAction action="close" pin_0="0" pin_1="1" fake="false"/>
                    <ExecuteMotion trajectory="{from_pick_1_pose_to_pre_1_pose}" />
                    <ExecuteMotion trajectory="{from_pre_1_pose_to_pre_2_pose}" />
                    <ExecuteMotion trajectory="{from_pre_2_pose_to_pick_2_pose}" />
                    <GripperAction action="open" pin_0="0" pin_1="1" fake="false"/>
                    <ExecuteMotion trajectory="{from_pick_2_pose_to_pre_2_pose}" />
                    <ExecuteMotion trajectory="{from_pre_2_pose_to_pick_2_pose}" />
                    <GripperAction action="close" pin_0="0" pin_1="1" fake="false"/>
                    <ExecuteMotion trajectory="{from_pick_2_pose_to_pre_2_pose}" />
                    <ExecuteMotion trajectory="{from_pre_2_pose_to_pre_1_pose}" />
                    <ExecuteMotion trajectory="{from_pre_1_pose_to_pick_1_pose}" />
                    <GripperAction action="open" pin_0="0" pin_1="1" fake="false"/>
                    <ExecuteMotion trajectory="{from_pick_1_pose_to_pre_1_pose}" />
                </Sequence>
            </Repeat>
        </Sequence>
    </BehaviorTree>
</root>
